library(tidyverse)
library(palmerpenguins)
theme_set(theme_bw(18))
glimpse(penguins)
table(penguins$species, penguins$island)
table(penguins$species, penguins$island)
penguins %>%
count(species, island)
penguins |>
count(species, island)
table(penguins$species, penguins$island)
penguins |>
count(species, island)
penguins |>
count(species, island) |>
pivot_wider(names_from = island,
values_from = n)
penguins |>
count(species, island) |>
pivot_wider(names_from = island, # Take unique names in island col, will convert to column names
values_from = n, values_fill = 0) # Take values in n col and fill in
species_island_table <- table(penguins$species, penguins$island)
addmargins(species_island_table)
# Row proportions
prop.table(species_island_table, margin = 1)
# Column proportions
prop.table(species_island_table, margin = 2)
#| label: q1
#|
penguins |>
count(species, island) |>
pivot_wider(names_from = island, # Take unique names in island col, will convert to column names
values_from = n, values_fill = 0) # Take values in n col and fill in
#| label: q2
#|
penguins |>
group_by(species) |>
summarize(n = n())
#| label: q2
#|
penguins |>
group_by(species) |>
summarize(n = count())
#| label: q2
#|
penguins |>
group_by(species) |>
summarize(n = n())
penguins |>
count(species, island) |>
groupby(species) |>
mutate(prop = n / sum(n))
penguins |>
count(species, island) |>
group_by(species) |>
mutate(prop = n / sum(n))
# Column proportions
penguins |>
count(species, island) |>
group_by(island) |>
mutate(prop = n / sum(n))
ggplot(penguins, aes(species)) +
geom_bar()
ggplot(penguins, aes(species, fill = island)) +
geom_bar()
#| label: q6
penguins|>
ggplot(aes(body_mass_g)) +
geom_histogram()
mean(penguins$body_mass_g)
mean(penguins$body_mass_g, na.rm = TRUE)
percent <- mean_mass * .68
mean_mass <- mean(penguins$body_mass_g, na.rm = TRUE)
percent <- mean_mass * .68
sd_mass <- sd(mean_mass)
sd_mass <- sd(penguins$body_mass_g, na.rm = TRUE)
body_masses <- penguins$body_mass_g[!is.na(penguins$body_mass_g)]
penguins %>%
ggplot(aes(bill_length_mm, bill_depth_mm, colour = species)) +
geom_point()
penguins %>%
ggplot(aes(bill_length_mm, bill_depth_mm, color = species)) +
geom_point()
#| label: q7
penguins %>%
ggplot(aes(bill_length_mm, bill_depth_mm, color = species)) +
geom_point()
# Chunk 1
library(tidyverse)
library(palmerpenguins)
theme_set(theme_bw(18))
# Chunk 2
glimpse(penguins)
# Chunk 3
table(penguins$species, penguins$island)
# Chunk 4
penguins |>
count(species, island)
# Chunk 5: q1
#| label: q1
# Chunk 6
penguins |>
count(species, island) |>
pivot_wider(names_from = island, # Take unique names in island col, will convert to column names
values_from = n, values_fill = 0) # Take values in n col and fill in
# Chunk 7
species_island_table <- table(penguins$species, penguins$island)
addmargins(species_island_table)
# Chunk 8
# Row proportions
prop.table(species_island_table, margin = 1)
# Column proportions
prop.table(species_island_table, margin = 2)
# Chunk 9: q2
#| label: q2
# Chunk 10
# Row proportions
penguins |>
count(species, island) |>
group_by(species) |>
mutate(prop = n / sum(n))
# Column proportions
penguins |>
count(species, island) |>
group_by(island) |>
mutate(prop = n / sum(n))
# Chunk 11
ggplot(penguins, aes(species)) +
geom_bar()
# Chunk 12: q3
#| label: q3
# Chunk 13
ggplot(penguins, aes(species, fill = island)) +
geom_bar()
# Chunk 14
penguins %>%
ggplot(aes(body_mass_g)) +
geom_histogram()
win1sd <- mean(body_masses > (mean_mass - sd_mass) & body_masses < (mean_mass + sd_mass)) * 100
#| label: q6
penguins|>
ggplot(aes(body_mass_g)) +
geom_histogram()
mean_mass <- mean(penguins$body_mass_g, na.rm = TRUE)
sd_mass <- sd(penguins$body_mass_g, na.rm = TRUE)
body_masses <- penguins$body_mass_g[!is.na(penguins$body_mass_g)]
win1sd <- mean(body_masses > (mean_mass - sd_mass) & body_masses < (mean_mass + sd_mass)) * 100
#| label: q6
penguins|>
ggplot(aes(body_mass_g)) +
geom_histogram()
mean_mass <- mean(penguins$body_mass_g, na.rm = TRUE)
sd_mass <- sd(penguins$body_mass_g, na.rm = TRUE)
body_masses <- penguins$body_mass_g[!is.na(penguins$body_mass_g)]
win1sd <- mean(body_masses > (mean_mass - sd_mass) & body_masses < (mean_mass + sd_mass)) * 100
win2sd <- mean(body_masses > (mean_mass - 2 * sd_mass) & body_masses < (mean_mass + 2 * sd_mass)) * 100
sci_fish <- read_csv(here::here("week1", "SCI_Fish_All_Years.csv"))
View(sci_fish)
sci_fish <- read_csv(here::here("week1", "SCI_Fish_All_Years.csv")) |>
janitor::clean_names()
unique(sci_fish$site)
class(sci_fish$count)
class(sci_fish$count[3])
sci_fish <- read_csv(here::here("week1", "SCI_Fish_All_Years.csv"), na = -99999) |>
janitor::clean_names()
sci_fish <- read_csv(here::here("week1", "SCI_Fish_All_Years.csv"), na = "-99999") |>
janitor::clean_names()
unique(sci_fish$count)
sci_fish |>
ggplot(aes(count, site)) +
geom_bar
sci_fish |>
ggplot(aes(count, site)) +
geom_bar()
sci_fish |>
ggplot(aes(count, site)) +
geom_bar()
sci_fish |>
ggplot(aes(count, site)) +
geom_col()
unique(sci_fish$group)
unique(sci_fish$common_name)
unique(sci_fish$year)
sci_fish |>
ggplot(aes(fct_reorder(count, site))) +
geom_col()
sci_fish |>
ggplot(aes(fct_reorder(count, site)), site) +
geom_col()
sci_fish |>
ggplot(aes(fct_reorder(count, site)), site) +
geom_col()
sci_fish |>
ggplot(aes(fct_reorder(count, site)), count) +
geom_col()
sci_fish |>
ggplot(aes(fct_reorder(site, count)), count) +
geom_col()
sci_fish |>
ggplot(aes(fct_reorder(site, count)), site) +
geom_col()
sci_fish |>
ggplot(aes(count, site)) +
geom_col()
sci_fish |>
ggplot(aes(reorder(count, site), site)) +
geom_col()
sci_fish |>
ggplot(aes(reorder(site, count), site)) +
geom_col()
sci_fish |>
ggplot(aes(reorder(site, count), site)) +
geom_bar(stat = "identity")
sci_fish |>
ggplot(aes(reorder(site, count), site)) +
geom_bar(stat = "identity")
sci_fish |>
ggplot(aes(reorder(site, count), count)) +
geom_bar(stat = "identity")
sci_fish |>
ggplot(aes(reorder(site, count), count)) +
geom_bar(stat = "identity") +
coord_flip()
sci_fish |>
ggplot(aes(reorder(site, -count), count)) +
geom_bar(stat = "identity") +
coord_flip()
sci_fish |>
ggplot(aes(x = reorder(site, -count), y = count)) +
geom_bar(stat = "identity") +
coord_flip()
is.numeric(sci_fish$count)
str(sci_fish)
sci_fish |>
group_by(site) |>
summarise(total = sum(count), na.rm = TRUE) |>
ggplot(aes(x = total, y = site)) +
geom_bar(stat = "identity")
sci_fish |>
group_by(site) |>
summarise(total = sum(count), na.rm = TRUE) |>
ggplot(aes(x = total, y = site)) +
geom_bar(stat = "identity")
sci_fish |>
group_by(site) |>
summarise(total = sum(count), na.rm = TRUE) |>
ggplot(aes(x = total, y = site)) +
geom_bar(stat = "count")
sci_fish |>
group_by(site) |>
summarise(total = sum(count), na.rm = TRUE) |>
ggplot(aes(x = total, y = site)) +
geom_bar()
sci_fish |>
group_by(site) |>
summarise(total = sum(count), na.rm = TRUE) |>
ggplot(aes(x = total, y = site)) +
geom_col()
site <- sci_fish |>
group_by(site) |>
summarise(total = sum(count), na.rm = TRUE)
sites <- sci_fish |>
group_by(site) |>
summarise(total = sum(count), na.rm = TRUE)
View(sites)
unique(sci_fish$count)
sites <- sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE))
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(x = total, y = site)) +
geom_bar()
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(x = total, y = site)) +
geom_bar(stat = "identity")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
arrange(total)
# ggplot(aes(x = total, y = site)) +
# geom_bar(stat = "identity")
?arrange()
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
arrange(asc(total))
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
arrange(total) |>
ggplot(aes(x = total, y = site)) +
geom_bar(stat = "identity")
```{r}
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(x = total, y = site)) +
geom_bar(stat = "identity")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(fct_reorder(total, site), site)) +
geom_bar(stat = "identity")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(fct_reorder(site, total), site)) +
geom_bar(stat = "identity")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(fct_reorder(site, total), total)) +
geom_bar(stat = "identity")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(fct_reorder(site, total), total)) +
geom_bar(stat = "identity") +
coord_flip()
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(fct_reorder(site, total), total)) +
geom_bar(stat = "identity") +
labs(x = "Total Fish Count") +
coord_flip()
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(total, fct_reorder(site, total))) +
geom_bar(stat = "identity") +
labs(x = "Total Fish Count") +
coord_flip()
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(total, fct_reorder(site, total))) +
geom_bar(stat = "identity") +
labs(x = "Total Fish Count")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(total, fct_reorder(site, total))) +
geom_bar(stat = "identity") +
labs(x = "Total Fish Count",
y = "Site")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(total, fct_reorder(site, total))) +
geom_bar(stat = "identity") +
labs(x = "Total Fish Count",
y = "Site",
title = "Santa Cruz Island Fish Counts",
subtitle = "Study Period: 1987 - 2010")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(total, fct_reorder(site, total))) +
geom_bar(stat = "identity") +
labs(x = "Total Fish Count",
y = "Site",
title = "Santa Cruz Island Fish Counts",
caption = "Study Period: 1987 - 2010")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(total, fct_reorder(site, total))) +
geom_bar(stat = "identity", fill = 'blue') +
labs(x = "Total Fish Count",
y = "Site",
title = "Santa Cruz Island Fish Counts",
caption = "Study Period: 1987 - 2010")
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(total, fct_reorder(site, total))) +
geom_bar(stat = "identity", fill = '#1b5299') +
labs(x = "Total Fish Count",
y = "Site",
title = "Santa Cruz Island Fish Counts",
caption = "Study Period: 1987 - 2010")
ggsave("santa_cruz_island_fish.png", width = 6, height = 7)
ggsave(filename = "santa_cruz_island_fish.png", path = "week1/", width = 6, height = 7)
sci_fish |>
group_by(site) |>
summarise(total = sum(count, na.rm = TRUE)) |>
ggplot(aes(total, fct_reorder(site, total))) +
geom_bar(stat = "identity", fill = '#1b5299') +
labs(x = "Total Fish Count",
y = "Site",
title = "Santa Cruz Island Fish Totals",
caption = "Study Period: 1987 - 2010")
ggsave(filename = "santa_cruz_island_fish.png", path = "week1/", width = 6, height = 7)
